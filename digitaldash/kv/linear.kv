#:kivy 1.0

<NeedleLinear>:
    canvas:
        # Draw our stencil
        StencilPush
        Rectangle:
            pos: (self.center_x - self.width / 2 + self.xOffset, self.center_y + 47)
            size: self.update, 45

        StencilUse
        # Now we want to draw our gauge and have it be cropped by the stencil
        Color:
            rgba: self.color
        Rectangle:
            size: self.size

        StencilUnUse
        # Redraw our stencil to remove it
        Rectangle:
            pos: (self.center_x - self.width / 2 + self.xOffset, self.center_y + 47)
            size: self.update, 45

        StencilPop

        Color:
            rgba: 1, 1, 1, 1   # this is the indicator line of the bar or needle
        Rectangle:
            pos: (self.update + self.center_x - self.width / 2 + self.xOffset, self.center_y + 45)
            size: 5, 49
